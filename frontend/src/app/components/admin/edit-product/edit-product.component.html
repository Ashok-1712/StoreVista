<div class="edit-product">
  <h2>Edit Product</h2>
  <form [formGroup]="productForm" (ngSubmit)="updateProduct()">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" formControlName="p_name" class="form-control" />
      <div *ngIf="productForm.get('p_name')?.invalid && productForm.get('p_name')?.touched" class="error-message">
        Name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="price">Price:</label>
      <input type="number" id="price" formControlName="p_price" class="form-control" />
      <div *ngIf="productForm.get('p_price')?.invalid && productForm.get('p_price')?.touched" class="error-message">
        Price must be a valid number.
      </div>
    </div>

    <div class="form-group">
      <label for="category">Category:</label>
      <input type="text" id="category" formControlName="p_category" class="form-control" />
      <div *ngIf="productForm.get('p_category')?.invalid && productForm.get('p_category')?.touched" class="error-message">
        Category is required.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" formControlName="p_description" class="form-control" rows="5"></textarea>
    </div>

    <div class="form-group">
      
        <label for="image">Product Image:</label>
        <div *ngIf="currentImageUrl">
          <img [src]="currentImageUrl" alt="Current Product Image" width="100" height="100" />
          <button type="button" (click)="selectedImage = null; currentImageUrl = ''">Remove Image</button>
        </div>
        <input type="file" (change)="onImageSelected($event)" />
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-update" [disabled]="productForm.invalid">Update Product</button>
      <button type="button" class="btn btn-cancel" (click)="cancel()">Cancel</button>
    </div>
  </form>
</div>
